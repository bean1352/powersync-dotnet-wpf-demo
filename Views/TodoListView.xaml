<Page x:Class="PowersyncDotnetTodoList.Views.TodoListView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:PowersyncDotnetTodoList.ViewModels"
      Title="To-Do Lists">
    <!-- <Page.DataContext>
        <vm:TodoListViewModel/>
    </Page.DataContext> -->

    <Grid>
        <StackPanel Margin="10">
            <TextBox Text="{Binding NewListName, UpdateSourceTrigger=PropertyChanged}"
                     Width="300"
                     Height="30"/>
            <Button Content="Add List"
                    Command="{Binding AddListCommand}"
                    CommandParameter="{Binding NewListName}"
                    Width="100"
                    Height="30"
                    Margin="0,5,0,10"/>


            <ListBox ItemsSource="{Binding TodoLists}"
                     SelectedItem="{Binding SelectedList, Mode=TwoWay}"
                     Width="500"
                     Height="300">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal"
                                Width="500">
                            <TextBlock Text="{Binding name}"
                                    Width="350"/>
                            <Button Content="Delete"
                                    Command="{Binding DataContext.DeleteListCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                                    CommandParameter="{Binding}"
                                    Width="80"
                                    Background="Red"
                                    Foreground="White"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

        </StackPanel>
    </Grid>
</Page>
